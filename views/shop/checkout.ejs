<!DOCTYPE html>
<head>
<% include ../common/head.ejs %>
</head>
<% include ../common/body.ejs %>
<div class="row">
    <div class="col-sm-6 col-md-4 col-md-offset-4 col-sm-offset-3">
        <h1 style="text-align:center">Checkout</h1>
	<div class="receipt">
		<% if (products) { %>
			<div class="card">
			<div class="card-block">
			<h4 class="card-title">Products:</h4>
			<% for (i = 0; i < products.length; i++) { %>
				<div class="card-text"><%= (i+1) %>. <%= products[i].name %></div>
			<% } %>
			</div>
			</div>
			<h4 style="text-align:center;font-size: 20px;font-weight: bold;">Your Total: $<%= totalAmount %></h4>
		<% } %>
	</div>
	<div class="receipt">
		<form action="/checkout" method="post" id="checkout-form" style="padding: 5px;margin-top: 5%;">
		    <input type="hidden" name="products" value="<%= JSON.stringify(products) %>" />
		    <input type="hidden" name="amount" value="<%= totalAmount %>" />
		    <div class="row">
		        <div class="col-xs-12">
		            <div class="form-group">
		                <label for="name">Name</label>
		                <input type="text" id="name" class="form-control" required name="name">
		            </div>
		        </div>
		        <div class="col-xs-12">
		            <div class="form-group">
		                <label for="address">Address</label>
		                <input type="text" id="address" class="form-control" required name="address">
		            </div>
		        </div>
		        <hr>
		        <div class="col-xs-12">
		            <div class="form-group">
		                <label for="card-name">Card Holder Name</label>
		                <input type="text" id="card-name" class="form-control" required name="card_name">
		            </div>
		        </div>
		        <div class="col-xs-12">
		            <div class="form-group">
		                <label for="card-number">Credit Card Number</label>
		                <input type="text" id="card-number" class="form-control" required name="card_number">
		            </div>
		        </div>
		        <div class="col-xs-12">
		            <div class="row">
		                <div class="col-xs-6">
		                    <div class="form-group">
		                        <label for="card-expiry-month">Expiration Month</label>
		                        <input type="text" id="card-expiry-month" class="form-control" required>
		                    </div>
		                </div>
		                <div class="col-xs-6">
		                    <div class="form-group">
		                        <label for="card-expiry-year">Expiration Year</label>
		                        <input type="text" id="card-expiry-year" class="form-control" required>
		                    </div>
		                </div>
		            </div>
		        </div>
		        <div class="col-xs-12">
		            <div class="form-group">
		                <label for="card-cvv">CVV</label>
		                <input type="text" id="card-cvc" class="form-control" required name="card_cvv">
		            </div>
		        </div>
		    </div>
		    <center>
		    <button type="submit" name="pay" value="Pay" class="btn btn-success" style="font-size: 18px;margin-top:5px;">Pay now</button>
		    <button type="submit" name="pay" value="Cancel" class="btn btn-light" style="font-size: 18px;margin-top:5px;">Cancel</button>
		    </center>
		</form>
	</div>
    </div>
</div>
